<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>24個の時計 - 1440パターン針角度</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 1rem;
      background-color: #f0f0f0;
      display: grid;
      grid-template-columns: repeat(8, 160px);
      grid-template-rows: repeat(3, 160px);
      gap: 1rem;
      justify-content: center;
      max-width: 1300px;
      margin: 0 auto;
    }
    canvas {
      background: #fff;
      border-radius: 50%;
      width: 160px;
      height: 160px;
      margin: auto;
      display: block;
    }
  </style>
</head>
<body>

<script>
  for(let i=1; i<=24; i++) {
    document.write(`<canvas id="clock${i}" width="200" height="200"></canvas>`);
  }
</script>

<script>
  const allAngles = [];
  for(let i=0; i<1440; i++) {
    allAngles[i] = [];
    for(let j=0; j<24; j++) {
      allAngles[i][j] = { hour: 0, minute: 0 };
    }
  }

  
  for(let a = 0; a<=9*60 + 59; a++){
    allAngles[a][0] = { hour: Math.PI, minute: Math.PI* 1 / 2};
    allAngles[a][1] = { hour: Math.PI, minute: Math.PI* 3 / 2};
    allAngles[a][8] = { hour: Math.PI, minute: 0};
    allAngles[a][9] = { hour: Math.PI, minute: 0};
    allAngles[a][16] = { hour: 9, minute: Math.PI*1 / 2};
    allAngles[a][17] = { hour: 9, minute: Math.PI*3 / 2};
  }
  for(let a = 10*60; a<=19*60 + 59; a++){
    allAngles[a][0] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
    allAngles[a][1] = { hour: Math.PI, minute: Math.PI};
    allAngles[a][8] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
    allAngles[a][9] = { hour: Math.PI, minute: 0};
    allAngles[a][16] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
    allAngles[a][17] = { hour: 0, minute: 0};
  }
  for(let a = 20*60; a<=23*60 + 59; a++){
    allAngles[a][0] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
    allAngles[a][1] = { hour: Math.PI, minute: Math.PI* 3 / 2};
    allAngles[a][8] = { hour: Math.PI, minute: Math.PI* 1 / 2};
    allAngles[a][9] = { hour: Math.PI* 3 / 2, minute: 0};
    allAngles[a][16] = { hour: 0, minute: Math.PI* 1 / 2};
    allAngles[a][17] = { hour: Math.PI* 3 / 2, minute: Math.PI* 3 / 2};
  }

  for(let a = 0; a <=23*60 + 59; a++){
    let remainder = a % 10;
    switch (remainder){
        case 0:
            allAngles[a][6] = { hour: Math.PI, minute: Math.PI* 1 / 2};
            allAngles[a][7] = { hour: Math.PI, minute: Math.PI* 3 / 2};
            allAngles[a][14] = { hour: Math.PI, minute: 0};
            allAngles[a][15] = { hour: Math.PI, minute: 0};
            allAngles[a][22] = { hour: 0, minute: Math.PI* 1 / 2};
            allAngles[a][23] = { hour: Math.PI* 3 / 2, minute: 0};    
            break;
        case 1:
            allAngles[a][6] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
            allAngles[a][7] = { hour: Math.PI, minute: Math.PI};
            allAngles[a][14] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
            allAngles[a][15] = { hour: Math.PI, minute: 0};
            allAngles[a][22] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
            allAngles[a][23] = { hour: 0, minute: 0};    
            break;
        case 2:
            allAngles[a][6] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
            allAngles[a][7] = { hour: Math.PI, minute: Math.PI* 3 / 2};
            allAngles[a][14] = { hour: Math.PI, minute: Math.PI* 1 / 2};
            allAngles[a][15] = { hour: Math.PI* 3 / 2, minute: 0};
            allAngles[a][22] = { hour: 0, minute: Math.PI* 1 / 2};
            allAngles[a][23] = { hour: Math.PI* 3 / 2, minute: Math.PI* 3 / 2};
            break;
        case 3:
            allAngles[a][6] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
            allAngles[a][7] = { hour: Math.PI, minute: Math.PI* 3 / 2};
            allAngles[a][14] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
            allAngles[a][15] = { hour: Math.PI* 3 / 2, minute: 0};
            allAngles[a][22] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
            allAngles[a][23] = { hour: Math.PI* 3 / 2, minute: 0};
            break;
        case 4:
            allAngles[a][6] = { hour: Math.PI, minute: Math.PI};
            allAngles[a][7] = { hour: Math.PI, minute: Math.PI};
            allAngles[a][14] = { hour: 0, minute: Math.PI* 1 / 2};
            allAngles[a][15] = { hour: 0, minute: 0};
            allAngles[a][22] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
            allAngles[a][23] = { hour: 0, minute: 0};
            break;
        case 5:
            allAngles[a][6] = { hour: Math.PI, minute: Math.PI* 1 / 2};
            allAngles[a][7] = { hour: Math.PI* 3 / 2, minute: Math.PI* 3 / 2};
            allAngles[a][14] = { hour: 0, minute: Math.PI* 1 / 2};
            allAngles[a][15] = { hour: Math.PI* 3 / 2, minute: Math.PI};
            allAngles[a][22] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
            allAngles[a][23] = { hour: 0, minute: Math.PI* 3 / 2};
            break;
        case 6:
            allAngles[a][6] = { hour: Math.PI, minute: Math.PI* 1 / 2};
            allAngles[a][7] = { hour: Math.PI* 3 / 2, minute: Math.PI* 3 / 2};
            allAngles[a][14] = { hour: Math.PI, minute: 0};
            allAngles[a][15] = { hour: Math.PI* 3 / 2, minute: Math.PI};
            allAngles[a][22] = { hour: 0, minute: Math.PI* 1 / 2};
            allAngles[a][23] = { hour: Math.PI* 3 / 2, minute: 0};
            break;
        case 7:
            allAngles[a][6] = { hour: Math.PI, minute: Math.PI* 1 / 2};
            allAngles[a][7] = { hour: Math.PI, minute: Math.PI* 3 / 2};
            allAngles[a][14] = { hour: 0, minute: 0};
            allAngles[a][15] = { hour: Math.PI, minute: 0};
            allAngles[a][22] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
            allAngles[a][23] = { hour: 0, minute: 0};
            break;
        case 8:
            allAngles[a][6] = { hour: Math.PI, minute: Math.PI* 1 / 2};
            allAngles[a][7] = { hour: Math.PI, minute: Math.PI* 3 / 2};
            allAngles[a][14] = { hour: 0, minute: Math.PI* 1 / 2};
            allAngles[a][15] = { hour: Math.PI* 3 / 2, minute: 0};
            allAngles[a][22] = { hour: 0, minute: Math.PI* 1 / 2};
            allAngles[a][23] = { hour: Math.PI* 3 / 2, minute: 0};
            break;
        case 9:
            allAngles[a][6] = { hour: Math.PI, minute: Math.PI* 1 / 2};
            allAngles[a][7] = { hour: Math.PI, minute: Math.PI* 3 / 2};
            allAngles[a][14] = { hour: 0, minute: Math.PI* 1 / 2};
            allAngles[a][15] = { hour: Math.PI, minute: 0};
            allAngles[a][22] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
            allAngles[a][23] = { hour: 0, minute: Math.PI* 3 / 2};
            break;
    }
  }

    for(let a = 0; a <=23*60 + 59; a++){
        let remainder = Math.floor((a % 60) / 10);
        switch (remainder){
            case 0:
                allAngles[a][4] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][5] = { hour: Math.PI, minute: Math.PI* 3 / 2};
                allAngles[a][12] = { hour: Math.PI, minute: 0};
                allAngles[a][13] = { hour: Math.PI, minute: 0};
                allAngles[a][20] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][21] = { hour: Math.PI* 3 / 2, minute: 0};    
                break;
            case 1:
                allAngles[a][4] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
                allAngles[a][5] = { hour: Math.PI, minute: Math.PI};
                allAngles[a][12] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
                allAngles[a][13] = { hour: Math.PI, minute: 0};
                allAngles[a][20] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
                allAngles[a][21] = { hour: 0, minute: 0};    
                break;
            case 2:
                allAngles[a][4] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
                allAngles[a][5] = { hour: Math.PI, minute: Math.PI* 3 / 2};
                allAngles[a][12] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][13] = { hour: Math.PI* 3 / 2, minute: 0};
                allAngles[a][20] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][21] = { hour: Math.PI* 3 / 2, minute: Math.PI* 3 / 2};
                break;
            case 3:
                allAngles[a][4] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
                allAngles[a][5] = { hour: Math.PI, minute: Math.PI* 3 / 2};
                allAngles[a][12] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
                allAngles[a][13] = { hour: Math.PI* 3 / 2, minute: 0};
                allAngles[a][20] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
                allAngles[a][21] = { hour: Math.PI* 3 / 2, minute: 0};
                break;
            case 4:
                allAngles[a][4] = { hour: Math.PI, minute: Math.PI};
                allAngles[a][5] = { hour: Math.PI, minute: Math.PI};
                allAngles[a][12] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][13] = { hour: 0, minute: 0};
                allAngles[a][20] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
                allAngles[a][21] = { hour: 0, minute: 0};
                break;
            case 5:
                allAngles[a][4] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][5] = { hour: Math.PI* 3 / 2, minute: Math.PI* 3 / 2};
                allAngles[a][12] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][13] = { hour: Math.PI* 3 / 2, minute: Math.PI};
                allAngles[a][20] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
                allAngles[a][21] = { hour: 0, minute: Math.PI* 3 / 2};
                break;
            case 6:
                allAngles[a][4] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][5] = { hour: Math.PI* 3 / 2, minute: Math.PI* 3 / 2};
                allAngles[a][12] = { hour: Math.PI, minute: 0};
                allAngles[a][13] = { hour: Math.PI* 3 / 2, minute: Math.PI};
                allAngles[a][20] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][21] = { hour: Math.PI* 3 / 2, minute: 0};
                break;
            case 7:
                allAngles[a][4] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][5] = { hour: Math.PI, minute: Math.PI* 3 / 2};
                allAngles[a][12] = { hour: 0, minute: 0};
                allAngles[a][13] = { hour: Math.PI, minute: 0};
                allAngles[a][20] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
                allAngles[a][21] = { hour: 0, minute: 0};
                break;
            case 8:
                allAngles[a][4] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][5] = { hour: Math.PI, minute: Math.PI* 3 / 2};
                allAngles[a][12] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][13] = { hour: Math.PI* 3 / 2, minute: 0};
                allAngles[a][20] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][21] = { hour: Math.PI* 3 / 2, minute: 0};
                break;
            case 9:
                allAngles[a][4] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][5] = { hour: Math.PI, minute: Math.PI* 3 / 2};
                allAngles[a][12] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][13] = { hour: Math.PI, minute: 0};
                allAngles[a][20] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
                allAngles[a][21] = { hour: 0, minute: Math.PI* 3 / 2};
                break;
        }
  }

    for(let a = 0; a <=23*60 + 59; a++){
        let remainder = Math.floor((a / 60) % 10);
        switch (remainder){
            case 0:
                allAngles[a][2] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][3] = { hour: Math.PI, minute: Math.PI* 3 / 2};
                allAngles[a][10] = { hour: Math.PI, minute: 0};
                allAngles[a][11] = { hour: Math.PI, minute: 0};
                allAngles[a][18] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][19] = { hour: Math.PI* 3 / 2, minute: 0};    
                break;
            case 1:
                allAngles[a][2] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
                allAngles[a][3] = { hour: Math.PI, minute: Math.PI};
                allAngles[a][10] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
                allAngles[a][11] = { hour: Math.PI, minute: 0};
                allAngles[a][18] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
                allAngles[a][19] = { hour: 0, minute: 0};    
                break;
            case 2:
                allAngles[a][2] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
                allAngles[a][3] = { hour: Math.PI, minute: Math.PI* 3 / 2};
                allAngles[a][10] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][11] = { hour: Math.PI* 3 / 2, minute: 0};
                allAngles[a][18] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][19] = { hour: Math.PI* 3 / 2, minute: Math.PI* 3 / 2};
                break;
            case 3:
                allAngles[a][2] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
                allAngles[a][3] = { hour: Math.PI, minute: Math.PI* 3 / 2};
                allAngles[a][10] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
                allAngles[a][11] = { hour: Math.PI* 3 / 2, minute: 0};
                allAngles[a][18] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
                allAngles[a][19] = { hour: Math.PI* 3 / 2, minute: 0};
                break;
            case 4:
                allAngles[a][2] = { hour: Math.PI, minute: Math.PI};
                allAngles[a][3] = { hour: Math.PI, minute: Math.PI};
                allAngles[a][10] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][11] = { hour: 0, minute: 0};
                allAngles[a][18] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
                allAngles[a][19] = { hour: 0, minute: 0};
                break;
            case 5:
                allAngles[a][2] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][3] = { hour: Math.PI* 3 / 2, minute: Math.PI* 3 / 2};
                allAngles[a][10] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][11] = { hour: Math.PI* 3 / 2, minute: Math.PI};
                allAngles[a][18] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
                allAngles[a][19] = { hour: 0, minute: Math.PI* 3 / 2};
                break;
            case 6:
                allAngles[a][2] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][3] = { hour: Math.PI* 3 / 2, minute: Math.PI* 3 / 2};
                allAngles[a][10] = { hour: Math.PI, minute: 0};
                allAngles[a][11] = { hour: Math.PI* 3 / 2, minute: Math.PI};
                allAngles[a][18] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][19] = { hour: Math.PI* 3 / 2, minute: 0};
                break;
            case 7:
                allAngles[a][2] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][3] = { hour: Math.PI, minute: Math.PI* 3 / 2};
                allAngles[a][10] = { hour: 0, minute: 0};
                allAngles[a][11] = { hour: Math.PI, minute: 0};
                allAngles[a][18] = { hour: Math.PI*5 / 4, minute: Math.PI*5 / 4};
                allAngles[a][19] = { hour: 0, minute: 0};
                break;
            case 8:
                allAngles[a][2] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][3] = { hour: Math.PI, minute: Math.PI* 3 / 2};
                allAngles[a][10] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][11] = { hour: Math.PI* 3 / 2, minute: 0};
                allAngles[a][18] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][19] = { hour: Math.PI* 3 / 2, minute: 0};
                break;
            case 9:
                allAngles[a][2] = { hour: Math.PI, minute: Math.PI* 1 / 2};
                allAngles[a][3] = { hour: Math.PI, minute: Math.PI* 3 / 2};
                allAngles[a][10] = { hour: 0, minute: Math.PI* 1 / 2};
                allAngles[a][11] = { hour: Math.PI, minute: 0};
                allAngles[a][18] = { hour: Math.PI* 1 / 2, minute: Math.PI* 1 / 2};
                allAngles[a][19] = { hour: 0, minute: Math.PI* 3 / 2};
                break;
        }
  }




  function timeToAngles(hour, minute) {
    const hourAngle = ((hour % 12) + minute / 60) * (2 * Math.PI / 12);
    const minuteAngle = (minute / 60) * 2 * Math.PI;
    return { hour: hourAngle, minute: minuteAngle };
  }

  const clocks = [];

  for(let i=1; i<=24; i++) {
    const canvas = document.getElementById(`clock${i}`);
    const ctx = canvas.getContext("2d");
    ctx.translate(canvas.width/2, canvas.height/2);
    clocks.push({
      canvas,
      ctx,
      radius: canvas.height / 2 - 10,
      currentAngles: { hour: 0, minute: 0 },
      targetAngles: { hour: 0, minute: 0 },
      lastMinute: null,
    });
  }

  function getTimeIndex(date) {
    return date.getHours() * 60 + date.getMinutes();
  }

  function normalizeAngle(angle) {
    while (angle < 0) angle += 2 * Math.PI;
    while (angle >= 2 * Math.PI) angle -= 2 * Math.PI;
    return angle;
  }

  function lerpAngle(start, end, t) {
    start = normalizeAngle(start);
    end = normalizeAngle(end);
    let diff = end - start;
    if (diff > Math.PI) diff -= 2 * Math.PI;
    if (diff < -Math.PI) diff += 2 * Math.PI;
    return normalizeAngle(start + diff * t);
  }

  function drawFace(ctx, radius) {
    ctx.save();
    ctx.shadowColor = "rgba(0, 0, 0, 0.5)";
    ctx.shadowBlur = 15;
    ctx.shadowOffsetX = 0;
    ctx.shadowOffsetY = 0;
    ctx.beginPath();
    ctx.arc(0, 0, radius, 0, 2 * Math.PI);
    ctx.fillStyle = "white";
    ctx.fill();
    ctx.restore();
  }

  // 🟩 影付き針の描画
  function drawHand(ctx, pos, length, width, color = "#000") {
    ctx.save();
    ctx.rotate(pos);

    // 影の設定
    ctx.shadowColor = "rgba(0, 0, 0, 0.4)";
    ctx.shadowBlur = 4;
    ctx.shadowOffsetX = 2;
    ctx.shadowOffsetY = 2;

    ctx.fillStyle = color;
    ctx.fillRect(-width / 2, -length, width, length);

    ctx.beginPath();
    ctx.arc(0, 0, width / 2, 0, 2 * Math.PI);
    ctx.fill();
    ctx.restore();
  }

  function drawClock(clock, index) {
    const ctx = clock.ctx;
    const radius = clock.radius;
    ctx.clearRect(-clock.canvas.width / 2, -clock.canvas.height / 2, clock.canvas.width, clock.canvas.height);
    drawFace(ctx, radius);

    const now = new Date();
    const timeIndex = getTimeIndex(now);

    const target = allAngles[timeIndex][index];
    clock.targetAngles.hour = target.hour;
    clock.targetAngles.minute = target.minute;

    const smoothing = 0.03;
    clock.currentAngles.hour = lerpAngle(clock.currentAngles.hour, clock.targetAngles.hour, smoothing);
    clock.currentAngles.minute = lerpAngle(clock.currentAngles.minute, clock.targetAngles.minute, smoothing);

    drawHand(ctx, clock.currentAngles.hour, radius * 0.95, radius * 0.17);
    drawHand(ctx, clock.currentAngles.minute, radius * 0.95, radius * 0.17);
  }

  function loop() {
    clocks.forEach((clock, index) => drawClock(clock, index));
    requestAnimationFrame(loop);
  }

  loop();
</script>

</body>
</html>
